import{c as pe,j as C,n as me,a as xe,k as ge,p as c,d as _e,l as $e,i as u,g as f,L as he,w as be,f as N,s as i,S as ye,h as Se,t as U}from"./index-04af9867.js";import{S as z}from"./switch-43781cfc.js";const we=U("<button s:my-prefix-5e29034-0>"),ke=U('<div class="settings-container fadein" s:my-prefix-5e29034-0><div class="table-header" s:my-prefix-5e29034-0><div class="table-column" s:my-prefix-5e29034-0><p s:my-prefix-5e29034-0>SETTING</p></div><div class="table-column" s:my-prefix-5e29034-0><p s:my-prefix-5e29034-0>ACTION</p></div></div><div class="table-data" s:my-prefix-5e29034-0><div class="table-column" s:my-prefix-5e29034-0><p s:my-prefix-5e29034-0>SOUND</p></div><div class="table-column" s:my-prefix-5e29034-0><input type="range" class="range" s:my-prefix-5e29034-0></div></div><div class="table-data" s:my-prefix-5e29034-0><div class="table-column" s:my-prefix-5e29034-0><p s:my-prefix-5e29034-0>ANONYMOUS MODE</p></div><div class="table-column" s:my-prefix-5e29034-0></div></div><div class="table-data" s:my-prefix-5e29034-0><div class="table-column" s:my-prefix-5e29034-0><p s:my-prefix-5e29034-0>CHAT MENTIONS</p></div><div class="table-column" s:my-prefix-5e29034-0></div></div><div class="table-data" s:my-prefix-5e29034-0><div class="table-column" s:my-prefix-5e29034-0><p s:my-prefix-5e29034-0>LINK DISCORD'),Ce="my-prefix-5e29034-0",Ne='.settings-container[s\\:my-prefix-5e29034-0]{width:100%;max-width:1175px;height:-moz-fit-content;height:fit-content;box-sizing:border-box;padding:30px 0;margin:0 auto}.bar[s\\:my-prefix-5e29034-0]{width:100%;height:1px;min-height:1px;background:#5A5499}.table-header[s\\:my-prefix-5e29034-0]{margin-bottom:20px}.table-header[s\\:my-prefix-5e29034-0],.table-data[s\\:my-prefix-5e29034-0]{display:flex;justify-content:space-between}.table-data[s\\:my-prefix-5e29034-0]{height:55px;background:rgba(90,84,153,0.35);padding:0 20px;display:flex;align-items:center;color:#ADA3EF;font-size:14px;font-weight:600}.table-data[s\\:my-prefix-5e29034-0]:nth-of-type(2n){background:rgba(90,84,153,0.15)}.table-column[s\\:my-prefix-5e29034-0]{display:flex;align-items:center;gap:8px;flex:1 1 0;text-transform:uppercase}.table-column[s\\:my-prefix-5e29034-0]:nth-of-type(2n){justify-content:flex-end}.table-header[s\\:my-prefix-5e29034-0] p[s\\:my-prefix-5e29034-0]{background:rgba(90,84,153,0.35);height:25px;line-height:25px;padding:0 15px;border-radius:2px;color:#ADA3EF;font-size:12px;font-weight:700;text-transform:uppercase}.range[s\\:my-prefix-5e29034-0]{-webkit-appearance:none;-moz-appearance:none;appearance:none;border-radius:25px;background:#2B284E;max-width:190px;height:9px;//margin-right:auto}.range[s\\:my-prefix-5e29034-0]::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:15px;height:15px;background:white;cursor:pointer;border-radius:50%}.range[s\\:my-prefix-5e29034-0]::-moz-range-thumb{-webkit-appearance:none;-moz-appearance:none;appearance:none;width:15px;height:15px;background:white;cursor:pointer;border-radius:50%}.link[s\\:my-prefix-5e29034-0]{width:70px;height:25px}.unlink[s\\:my-prefix-5e29034-0]{width:70px;height:25px;outline:unset;border:unset;cursor:pointer;color:#FFF;font-family:"Geogrotesque Wide",sans-serif;font-size:12px;font-weight:700;border-radius:3px;background:#E85959;box-shadow:0px 1px 0px 0px #AF2525,0px -1px 0px 0px #FF7A7A}@media only screen and (max-width:1000px){.settings-container[s\\:my-prefix-5e29034-0]{padding-bottom:90px}}';function Oe(Ie){const t=pe();let d;const[v,K]=C(localStorage.getItem("mentions")==="true"),[M,{mutate:I}]=me(j),[p,m]=C(!1),[x,E]=C(localStorage.getItem("sound")||100),[o,{mutateUser:P}]=xe();ge(()=>{localStorage.getItem("sound")||(localStorage.setItem("sound",100),E(100)),localStorage.getItem("mentions")===void 0&&localStorage.setItem("mentions",!0),x()&&B()});async function j(){try{let n=await c("/discord","GET",null);return n.status==="LINKED"&&m(!0),I(n)}catch(n){return console.log(n),I(null)}}function B(){let n=(d.value-0)/100*100;d.style.background="linear-gradient(to right, #5F5CA6 0%, #5F5CA6 "+n+"%, #2B284E "+n+"%, #2B284E 100%)"}return _e(Ce,1,Ne),(()=>{const n=ke(),g=n.firstChild,_=g.firstChild,G=_.firstChild,A=_.nextSibling,R=A.firstChild,$=g.nextSibling,h=$.firstChild,W=h.firstChild,O=h.nextSibling,r=O.firstChild,b=$.nextSibling,y=b.firstChild,q=y.firstChild,T=y.nextSibling,S=b.nextSibling,w=S.firstChild,H=w.firstChild,D=w.nextSibling,k=S.nextSibling,F=k.firstChild,J=F.firstChild;r.$$input=e=>{E(e.target.valueAsNumber),localStorage.setItem("sound",x())};const L=d;return typeof L=="function"?$e(L,r):d=r,u(T,f(z,{dark:!0,get active(){return o()?.anon},toggle:async()=>{(await c("/user/anon","POST",JSON.stringify({enable:!o()?.anon}))).success&&P({...o(),anon:!o()?.anon})}})),u(D,f(z,{dark:!0,get active(){return v()},toggle:async()=>{K(!v()),localStorage.setItem("mentions",v())}})),u(k,f(ye,{get when(){return!M.loading},get fallback(){return f(he,{type:"small"})},get children(){const e=we();return e.$$click=async()=>{if(p()){let a=await c("/discord/unlink","POST",null,!0);(a.status==="NOT_LINKED"||a.status==="UNLINKED"||a.success)&&(be("success","Successfully unlinked your discord"),m(!1));return}let s=await c("/discord/link","POST",null,!0);if(s.url){let a=window.open(s.url,"popUpWindow","height=700,width=500,left=100,top=100,resizable=yes,scrollbar=yes");window.addEventListener("message",function(l){l.data.type==="discord"&&(a.close(),m(!0))},!1)}},u(e,()=>p()?"UNLINK":"LINK"),N(s=>{const a=p()?"unlink":"bevel-gold link",l=t();return a!==s._v$&&(e.className=s._v$=a),s._v$2=i(e,l,s._v$2),s},{_v$:void 0,_v$2:void 0}),e}}),null),N(e=>{const s=t(),a=t(),l=t(),V=t(),Y=t(),Q=t(),X=t(),Z=t(),ee=t(),te=t(),ie=t(),ne=t(),se=t(),ae=t(),re=t(),le=t(),de=t(),oe=t(),ce=t(),ue=t(),fe=t(),ve=t();return e._v$3=i(n,s,e._v$3),e._v$4=i(g,a,e._v$4),e._v$5=i(_,l,e._v$5),e._v$6=i(G,V,e._v$6),e._v$7=i(A,Y,e._v$7),e._v$8=i(R,Q,e._v$8),e._v$9=i($,X,e._v$9),e._v$10=i(h,Z,e._v$10),e._v$11=i(W,ee,e._v$11),e._v$12=i(O,te,e._v$12),e._v$13=i(r,ie,e._v$13),e._v$14=i(b,ne,e._v$14),e._v$15=i(y,se,e._v$15),e._v$16=i(q,ae,e._v$16),e._v$17=i(T,re,e._v$17),e._v$18=i(S,le,e._v$18),e._v$19=i(w,de,e._v$19),e._v$20=i(H,oe,e._v$20),e._v$21=i(D,ce,e._v$21),e._v$22=i(k,ue,e._v$22),e._v$23=i(F,fe,e._v$23),e._v$24=i(J,ve,e._v$24),e},{_v$3:void 0,_v$4:void 0,_v$5:void 0,_v$6:void 0,_v$7:void 0,_v$8:void 0,_v$9:void 0,_v$10:void 0,_v$11:void 0,_v$12:void 0,_v$13:void 0,_v$14:void 0,_v$15:void 0,_v$16:void 0,_v$17:void 0,_v$18:void 0,_v$19:void 0,_v$20:void 0,_v$21:void 0,_v$22:void 0,_v$23:void 0,_v$24:void 0}),N(()=>r.value=x()),n})()}Se(["input","click"]);export{Oe as default};
