import{c as z,j as q,k as X,o as j,d as I,l as V,i as b,e as R,f as w,m as A,s as a,t as S,n as B,p as K,g as P,L as M,S as O}from"./index-04af9867.js";import{A as Q}from"./adminmfa-917a9db3.js";const U=S("<div s:my-prefix-716dae33-0><canvas s:my-prefix-716dae33-0>"),J=S('<div class="tooltip" s:my-prefix-716dae33-0><p s:my-prefix-716dae33-0> - </p><p s:my-prefix-716dae33-0> Players'),Z="my-prefix-716dae33-0",ee=".tooltip[s\\:my-prefix-716dae33-0]{text-align:center;border-radius:7px;background:#231F43;width:240px;max-width:240px;height:90px;color:#ADA3EF;font-family:Geogrotesque Wide,sans-serif;font-size:16px;font-weight:500;padding:10px 15px}";function te(f){const s=z();let c;const[u,E]=q(null);function T(){return Math.max(...f.data.map(r=>r.players))}const n=r=>{const i=r.getContext("2d");i.clearRect(0,0,r.width,r.height);const e=10,l=10,v=10,h=r.width-l-v,o=r.height-e,$=T();if(i.fillStyle="rgba(60, 50, 126, 0.35)",i.beginPath(),f?.data.length>0){const d=f?.data[0],t=l,_=e+(1-d.players/$)*o;i.moveTo(t,_);for(let x=1;x<f?.data.length;x++){const C=f?.data[x],y=l+x/(f?.data.length-1)*h,F=e+(1-C.players/$)*o;i.lineTo(y,F)}}i.lineTo(l+h,e+o),i.lineTo(l,e+o),i.closePath(),i.fill(),i.strokeStyle="#6155A1",i.beginPath();for(let d=0;d<f?.data.length;d++){const t=f?.data[d],_=l+d/(f?.data.length-1)*h,x=e+(1-t.players/$)*o;d===0?i.moveTo(_,x):i.lineTo(_,x)}i.stroke(),i.strokeStyle="rgba(67, 61, 107, 0.75)",i.lineWidth=1;for(let d=1;d<f?.data.length-1;d++){const t=l+d/(f?.data.length-1)*h;i.beginPath(),i.moveTo(t,0),i.lineTo(t,e+o),i.stroke()}const m=Math.min(5,$);for(let d=1;d<=m;d++){const t=e+(1-d/m)*o;i.beginPath(),i.moveTo(0,t),i.lineTo(r.width,t),i.stroke()}i.fillStyle="white";for(let d=0;d<f?.data.length;d++){const t=f?.data[d],_=l+d/(f?.data.length-1)*h,x=e+(1-t.players/$)*o;i.beginPath(),i.arc(_,x,4,0,2*Math.PI),i.fill()}r.addEventListener("mousemove",p);function p(d){const t=r.getBoundingClientRect(),_=d.clientX-t.left,x=d.clientY-t.top;let C=null;for(let y=0;y<f?.data.length;y++){const F=f?.data[y],k=l+y/(f?.data.length-1)*h,D=e+(1-F.players/$)*o;if(Math.sqrt((_-k)**2+(x-D)**2)<4){C={...F,x:k};break}}E(C)}};X(()=>{const r=c.parentElement;window.addEventListener("resize",g),setTimeout(()=>{c.width=r.clientWidth,c.height=r.clientHeight,f?.data&&n(c)},0)});const g=()=>{const r=c.parentElement;c.width=r.clientWidth,c.height=r.clientHeight,n(c)};return j(()=>{window.removeEventListener("resize",g)}),I(Z,1,ee),(()=>{const r=U(),i=r.firstChild;return V(e=>c=e,i),b(r,(()=>{const e=R(()=>!!u());return()=>e()&&(()=>{const l=J(),v=l.firstChild,h=v.firstChild,o=v.nextSibling,$=o.firstChild;return b(v,()=>u().from,h),b(v,()=>u().to,null),b(o,()=>u().players,$),w(m=>{const p=A({position:"absolute",top:(1-u().players/T())*100+"%",left:`calc(${u().x}px - 120px)`,transform:"translateY(-100px)"},s()),d=s(),t=s();return m._v$3=a(l,p,m._v$3),m._v$4=a(v,d,m._v$4),m._v$5=a(o,t,m._v$5),m},{_v$3:void 0,_v$4:void 0,_v$5:void 0}),l})()})(),null),w(e=>{const l=A({width:"100%",height:"100%",position:"relative"},s()),v=A({width:"100%",height:"100%"},s());return e._v$=a(r,l,e._v$),e._v$2=a(i,v,e._v$2),e},{_v$:void 0,_v$2:void 0}),r})()}const ie=S('<div class="stats" s:my-prefix-d985b7f1-0><div class="stat" s:my-prefix-d985b7f1-0><p class="white align" s:my-prefix-d985b7f1-0>$</p><p s:my-prefix-d985b7f1-0>PROFIT ON DAY</p></div><div class="stat" s:my-prefix-d985b7f1-0><p class="white align" s:my-prefix-d985b7f1-0>$</p><p s:my-prefix-d985b7f1-0>PROFIT ON WEEK</p></div><div class="stat" s:my-prefix-d985b7f1-0><p class="white align" s:my-prefix-d985b7f1-0>$</p><p s:my-prefix-d985b7f1-0>PROFIT ON MONTH</p></div><div class="stat green" s:my-prefix-d985b7f1-0><p class="white align" s:my-prefix-d985b7f1-0>$</p><p class="green" s:my-prefix-d985b7f1-0>OVERALL PROFIT'),ne=S('<div class="bar" s:my-prefix-d985b7f1-0>'),re=S('<div class="banner" s:my-prefix-d985b7f1-0><img src="/assets/icons/logoswords.png" width="25" height="19" alt="" s:my-prefix-d985b7f1-0><p s:my-prefix-d985b7f1-0>GROWTH</p><div class="line" s:my-prefix-d985b7f1-0>'),se=S('<div class="graph" s:my-prefix-d985b7f1-0>'),ae=S('<div class="banner" s:my-prefix-d985b7f1-0><img src="/assets/icons/logoswords.png" width="25" height="19" alt="" s:my-prefix-d985b7f1-0><p s:my-prefix-d985b7f1-0>DEMOGRAPHIC</p><div class="line" s:my-prefix-d985b7f1-0>'),de=S('<div class="demographics" s:my-prefix-d985b7f1-0>'),le="my-prefix-d985b7f1-0",oe=".stats[s\\:my-prefix-d985b7f1-0]{display:flex;flex-wrap:wrap;gap:8px}.stat[s\\:my-prefix-d985b7f1-0]{display:flex;align-items:center;justify-content:center;flex-direction:column;gap:10px;flex:1 1 0;height:90px;border-radius:5px;background:rgba(90,84,153,0.27);color:#FFF;font-family:Geogrotesque Wide,sans-serif;font-size:20px;font-weight:600;padding:10px 20px}.stat[s\\:my-prefix-d985b7f1-0].green{background:rgba(89,232,120,0.15)}.stat[s\\:my-prefix-d985b7f1-0] p[s\\:my-prefix-d985b7f1-0]:last-child{color:#ADA3EF;font-size:13px;font-weight:600}.align[s\\:my-prefix-d985b7f1-0]{display:flex;align-items:center;gap:8px}.green[s\\:my-prefix-d985b7f1-0]{color:#59E878!important}.bar[s\\:my-prefix-d985b7f1-0]{width:100%;height:1px;min-height:1px;background:#5A5499}.banner[s\\:my-prefix-d985b7f1-0]{outline:unset;border:unset;width:100%;height:45px;border-radius:5px;background:linear-gradient(90deg,rgb(104,100,164) -49.01%,rgba(90,84,149,0.655) -5.08%,rgba(66,53,121,0) 98.28%);padding:0 15px;display:flex;align-items:center;gap:12px;color:white;font-size:22px;font-weight:600;margin-bottom:30px}.line[s\\:my-prefix-d985b7f1-0]{flex:1;height:1px;border-radius:2525px;background:linear-gradient(90deg,#5A5499 0%,rgba(90,84,153,0.00) 100%)}.banner[s\\:my-prefix-d985b7f1-0]{outline:unset;border:unset;width:100%;height:45px;border-radius:5px;background:linear-gradient(90deg,rgb(104,100,164) -49.01%,rgba(90,84,149,0.655) -5.08%,rgba(66,53,121,0) 98.28%);padding:0 15px;display:flex;align-items:center;gap:12px;color:white;font-size:22px;font-weight:600;margin:35px 0}.line[s\\:my-prefix-d985b7f1-0]{flex:1;height:1px;border-radius:2525px;background:linear-gradient(90deg,#5A5499 0%,rgba(90,84,153,0.00) 100%)}.graph[s\\:my-prefix-d985b7f1-0]{width:100%;height:235px;border-radius:15px;background:#2D2755}";function ge(f){const s=z(),[c,{mutate:u,refetch:E}]=B(T);async function T(){try{let n=await K("/admin/dashboard","GET",null);return n.error&&n.error==="2FA_REQUIRED"?u({mfa:!0}):(n.growth&&(n.growth=n.growth.reverse()),u(n))}catch(n){return console.log(n),u(null)}}return I(le,1,oe),[R((()=>{const n=R(()=>!!c()?.mfa);return()=>n()&&P(Q,{refetch:()=>E()})})()),P(O,{get when(){return!c.loading},get fallback(){return P(M,{})},get children(){const n=ie(),g=n.firstChild,r=g.firstChild;r.firstChild;const i=r.nextSibling,e=g.nextSibling,l=e.firstChild;l.firstChild;const v=l.nextSibling,h=e.nextSibling,o=h.firstChild;o.firstChild;const $=o.nextSibling,m=h.nextSibling,p=m.firstChild;p.firstChild;const d=p.nextSibling;return b(r,()=>(c()?.profit?.lastDay||0)?.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),null),b(l,()=>(c()?.profit?.last7d||0)?.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),null),b(o,()=>(c()?.profit?.last31d||0)?.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),null),b(p,()=>(c()?.profit?.total||0)?.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),null),w(t=>{const _=s(),x=s(),C=s(),y=s(),F=s(),k=s(),D=s(),L=s(),W=s(),H=s(),G=s(),Y=s(),N=s();return t._v$=a(n,_,t._v$),t._v$2=a(g,x,t._v$2),t._v$3=a(r,C,t._v$3),t._v$4=a(i,y,t._v$4),t._v$5=a(e,F,t._v$5),t._v$6=a(l,k,t._v$6),t._v$7=a(v,D,t._v$7),t._v$8=a(h,L,t._v$8),t._v$9=a(o,W,t._v$9),t._v$10=a($,H,t._v$10),t._v$11=a(m,G,t._v$11),t._v$12=a(p,Y,t._v$12),t._v$13=a(d,N,t._v$13),t},{_v$:void 0,_v$2:void 0,_v$3:void 0,_v$4:void 0,_v$5:void 0,_v$6:void 0,_v$7:void 0,_v$8:void 0,_v$9:void 0,_v$10:void 0,_v$11:void 0,_v$12:void 0,_v$13:void 0}),n}}),(()=>{const n=ne();return w(g=>a(n,A({margin:"30px 0 10px 0"},s()),g)),n})(),(()=>{const n=re(),g=n.firstChild,r=g.nextSibling,i=r.nextSibling;return w(e=>{const l=s(),v=s(),h=s(),o=s();return e._v$14=a(n,l,e._v$14),e._v$15=a(g,v,e._v$15),e._v$16=a(r,h,e._v$16),e._v$17=a(i,o,e._v$17),e},{_v$14:void 0,_v$15:void 0,_v$16:void 0,_v$17:void 0}),n})(),(()=>{const n=se();return b(n,P(O,{get when(){return!c.loading},get fallback(){return P(M,{})},get children(){return P(te,{get data(){return c()?.growth||[]}})}})),w(g=>a(n,s(),g)),n})(),(()=>{const n=ae(),g=n.firstChild,r=g.nextSibling,i=r.nextSibling;return w(e=>{const l=s(),v=s(),h=s(),o=s();return e._v$18=a(n,l,e._v$18),e._v$19=a(g,v,e._v$19),e._v$20=a(r,h,e._v$20),e._v$21=a(i,o,e._v$21),e},{_v$18:void 0,_v$19:void 0,_v$20:void 0,_v$21:void 0}),n})(),(()=>{const n=de();return w(g=>a(n,s(),g)),n})()]}export{ge as default};
